# Production Environment Configuration
# Copy this file to .env.prod and customize for your production environment

###> symfony/framework-bundle ###
APP_ENV=prod
APP_DEBUG=0
# IMPORTANT: Generate a strong secret for production!
# Use: openssl rand -hex 32
APP_SECRET=CHANGE_ME_TO_RANDOM_SECRET
###< symfony/framework-bundle ###

###> doctrine/doctrine-bundle ###
# Configure your production database connection
# Example for PostgreSQL:
DATABASE_URL="postgresql://db_user:db_password@db_host:5432/db_name?serverVersion=17&charset=utf8"
###< doctrine/doctrine-bundle ###

###> symfony/mailer ###
# Configure production mailer DSN
# Examples:
# - SMTP: smtp://user:pass@smtp.example.com:465
# - SendGrid: sendgrid://KEY@default
# - Amazon SES: ses+smtp://ACCESS_KEY:SECRET_KEY@default?region=eu-west-1
MAILER_DSN=smtp://user:password@smtp.example.com:587
###< symfony/mailer ###

###> symfony/messenger ###
# Configure production message transport
# Examples:
# - Redis: redis://localhost:6379/messages
# - RabbitMQ: amqp://user:password@localhost:5672/%2f/messages
# - Doctrine: doctrine://default
MESSENGER_TRANSPORT_DSN=doctrine://default
###< symfony/messenger ###

###> Application Settings ###
# Application URL (used for generating absolute URLs in emails, etc.)
APP_URL=https://example.com

# Email sender configuration
MAILER_FROM_EMAIL=noreply@example.com
MAILER_FROM_NAME="Your Application Name"
###< Application Settings ###

###> Security Settings ###
# Session cookie settings
SESSION_COOKIE_SECURE=1
SESSION_COOKIE_HTTPONLY=1
SESSION_COOKIE_SAMESITE=lax

# CORS settings (if applicable)
CORS_ALLOW_ORIGIN=^https?://(www\.)?example\.com$
###< Security Settings ###

###> Rate Limiting ###
# Rate limiting configuration
RATE_LIMIT_LOGIN=5
RATE_LIMIT_REGISTRATION=3
RATE_LIMIT_PASSWORD_RESET=3
###< Rate Limiting ###

###> Performance ###
# Opcache settings
OPCACHE_VALIDATE_TIMESTAMPS=0
OPCACHE_MAX_ACCELERATED_FILES=20000
OPCACHE_MEMORY_CONSUMPTION=256

# APCu settings
APCU_ENABLED=1

# FrankenPHP worker settings
FRANKENPHP_WORKER=1
FRANKENPHP_NUM_WORKERS=auto
###< Performance ###

###> sentry/sentry-symfony ###
# Sentry DSN for error tracking
SENTRY_DSN=https://public@o0.ingest.sentry.io/0
###< sentry/sentry-symfony ###
