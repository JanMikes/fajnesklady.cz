includes:
    - vendor/phpstan/phpstan-phpunit/extension.neon
    - vendor/phpstan/phpstan-phpunit/rules.neon
    - vendor/phpstan/phpstan-symfony/extension.neon
    - vendor/phpstan/phpstan-symfony/rules.neon
    - vendor/phpstan/phpstan-doctrine/extension.neon
    - vendor/phpstan/phpstan-doctrine/rules.neon
    - phar://phpstan.phar/conf/bleedingEdge.neon

parameters:
    level: 8
    paths:
        - src
        - tests
    excludePaths:
        - tests/Integration/*  # Temporarily exclude until test container issue is fixed
    symfony:
        containerXmlPath: var/cache/dev/App_KernelDevDebugContainer.xml
    doctrine:
        repositoryClass: Doctrine\ORM\EntityRepository
    tmpDir: var/cache/phpstan
    reportUnmatchedIgnoredErrors: false
    ignoreErrors:
        # Test assertions - these are intentional and safe
        - '#Call to method PHPUnit\\Framework\\Assert::assertInstanceOf\(\) with .* will always evaluate to true#'
        # Properties written/read by Doctrine or Symfony internals
        - '#Property App\\Controller\\Admin\\DashboardController::\$queryBus is never read, only written#'
        # Form data is validated by Symfony Form component before this point
        - '#Offset .* might not exist on array<string, mixed>\|null#'
        # These are strict comparisons that are safe
        - '#Strict comparison using !== between .* and null will always evaluate to true#'
        # Symfony Session getFlashBag() exists at runtime
        - '#Call to an undefined method Symfony\\Component\\HttpFoundation\\Session\\SessionInterface::getFlashBag\(\)#'
        # Third-party bundle type issues
        - '#Parameter \#1 \$user of class App\\Entity\\ResetPasswordRequest constructor expects App\\Entity\\User, object given#'
